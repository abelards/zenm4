<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta content="True" name="HandheldFriendly" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Sylvain Abélard" />
  <title>Zen M-4</title>
  <meta name="description" content="Zen Metaphor - Chaque semaine une image simple pour comprendre quelque chose qui n'aurait jamais dû être compliqué dans le développement informatique - Podcast en français pour apprendre et progresser dans le code" />
  <link rel="stylesheet" href="/css/light.css" />
  <link rel="stylesheet" href="/css/sharingbuttonsio.css" />
  <link rel="canonical" href="http://zenm4.net/" />
  <link rel="alternate" type="application/rss+xml" title="Sylvain Abélard" href="http://zenm4.net/feed.xml" />

  <meta name="twitter:card" content="product" />
  <meta name="twitter:site" content="@zen_m4" />
  <meta name="twitter:creator" content="@abelar_s" />
  <meta name="twitter:domain" content="zenm4.net" />
  <meta name="twitter:title" content="Zen Metaphor" />
  <meta name="twitter:image" content="http://zenm4.net/img/zenm4.png" />
  <meta name="twitter:description" content="Zen Metaphor - Chaque semaine une image simple pour comprendre quelque chose qui n'aurait jamais dû être compliqué dans le développement informatique - Podcast en français pour apprendre et progresser dans le code" />

  <meta property="og:type" content="website" />
  <meta property="og:url" content="http://zenm4.net" />
  <meta property="og:title" content="Zen Metaphor" />
  <meta property="og:description" content="Zen Metaphor - Chaque semaine une image simple pour comprendre quelque chose qui n'aurait jamais dû être compliqué dans le développement informatique - Podcast en français pour apprendre et progresser dans le code" />
  <meta property="og:image" content="http://zenm4.net/img/zenm4.png" />
  <meta property="og:locale" content="fr-FR" />
  <meta property="og:updated_time" content="2016-02-23" />
  <meta property="og:rich_attachment" content="true" />

</head>


  <body>
    <div class="page">
    <div id="title">
  <a id="home" href="/"><img id="logo" src="/img/zenm4_logo.png" alt="&#9775;" /></a>
  <h1><a href="/">Zen M-4</a></h1>
  <h3>Zen Metaphor</h3>
  <div class="menu">
    <a class="soundcloud icon" title="ZenM4 / SoundCloud"
       href="https://soundcloud.com/user-794009814">
      &nbsp;<img src="/img/soundcloud.ico" />&nbsp;Audio</a>
    <a class="twitter icon" title="@Zen_M4 / Twitter"
       href="https://twitter.com/zen_m4"><img src="/img/twitter.ico" />&nbsp;@zenm4</a>
    <a class="past" href="/archive">Archive</a>
<!--    <a class="past" href="/archive">Archive</a> | -->
    <a class="rss icon" title="RSS" href="/feed.xml"><img src="/img/rss.ico" />&nbsp;RSS</a>
  </div>
</div>


<!--     <div class="content" id="page"> -->
      <!-- <div class="post"> -->

  <header class="post-header">
    <p class="post-meta">
      <span>&#x21fd; <a href="/011/">011. À l'attaque !</a></span>
      &mdash;
      
    </p>

    <h1 class="post-title">012. Git, ou l'écriture à N cerveaux</h1>
    <h4>Écrire et versionner son code source sous Git
      <br /><em>c'est comme</em><br />l'écriture des contes et la tradition orale
    </h4>
  </header>

  <div class="sound block">
    <iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/259529834&amp;color=ff5500&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"></iframe>
  </div>

  <div class="links block">
    <h4>Les liens du jour</h4>
    <ul>
      <li><a href="http://think-like-a-git.net/epic.html">Think Like a Git</a>
        <p>Concepts autour de Git et métaphores</p>
      </li>
    </ul>
  </div>

  <article class="post-content">
    <p>Bonjour, bienvenue dans l’épisode 12 sur Git.</p>

<p>Beaucoup de cours pour apprendre à coder se basent sur Git,
et c’est très bien de viser tout de suite une bonne pratique
qui ne va jamais cesser d’être utile. En plus, un code bien
versionné c’est le droit de faire des erreurs et revenir en
arrière, ce qui est parfait pour se rassurer quand on tente
des choses nouvelles.</p>

<p>Mais cela bloque aussi les débutants : je voulais “juste”
apprendre à coder, et voilà qu’on me gave d’outils annexes
sans vraiment me dire pourquoi ils sont là, si on peut
s’en passer au début, ou si on peut apprendre juste quelques
parties et se lancer, ou qu’on doit tout savoir dès le début.</p>

<p>Du coup le but ici n’est pas de vous faire une liste des commandes
(j’ai essayé avec l’épisode sur les itérateurs, c’est beaucoup trop
long et pas forcément adapté en podcast, et en plus il y a déjà
pléthore de sites et docs très bien faits) mais encore une fois de
donner une vue d’ensemble pour dédramatiser le sujet.</p>

<p><b>La tradition orale</b></p>

<p>J’aimerais rapprocher l’écriture de code (du texte à la base),
avec quelque chose que l’humanité fait depuis très longtemps :
raconter des histoires.</p>

<p>Dans toutes les cultures, mythes, légendes, contes se transmettent
par tradition orale : les griots, les druides, les aedes grecs…
et un jour tout cela se cristallise dans un ouvrage : l’épopée de
Gilgamesh ou l’Iliade et l’Odyssée, etc.</p>

<p>Comme dans le logiciel ou le business, l’écriture dans une version
“canonique” n’empêche pas les reprises, redécouvertes ou réinventions :
Molière a repris énormément d’idées de ses fables chez Esope,
pourtant il a écrit quelque chose d’original en l’adaptant à sa
langue et à son époque.</p>

<p><b>Pourquoi versionner ?</b></p>

<p>On souhaite avoir plusieurs versions d’un logiciel qu’on écrit : soit
parce qu’on travaille à plusieurs, soit pour faire une expérience par
ci, une tentative par là, sans que cela ne bloque tout le monde.</p>

<p>Vous avez tenté quelque chose de trop courageux toute la journée
de mardi ? Rien ne marche le soir ? Pas de souci : on revient à
la version de lundi.</p>

<p>Quand on commence un long chantier sur son code, on ne veut pas le
mettre en prod tant qu’il n’est pas fini, pourtant il faut bien que le
logiciel avance : une urgence, un patch de sécurité, et on doit soit
reprendre la version d’avant votre chantier, soit mettre en prod
quelque chose qui n’est pas maîtrisé.</p>

<p>Une façon simple de faire ça était de tout copier-coller dans des
dossiers, avec des noms plus ou moins explicites (v1, v2, backup, test…)
mais plus on va mener de chantiers en parallèle plus ça va être
difficile, déjà de tracer, mais ensuite de remettre ensemble à la
fin quand le résultat est satisfaisant et “mérite” de rentrer dans
le produit final.</p>

<p><b>Les conflits</b></p>

<p>Bien entendu, ça arrive tout le temps. Parfois, pour avancer,
on doit se baser sur une hypothèse différente :
pour le métier, une découverte qui n’était pas dans le plan de base,
une contrainte légale ou une opportunité business ;
pour les développeurs, des contraintes ou opportunités techniques.</p>

<p>Votre code et votre base de données peuvent avoir des changements
majeurs qui mettent une partie du système KO.
Quand ça arrive, votre code est en conflit avec celui du voisin.</p>

<p>Par exemple, dans l’histoire du barde voisin, le personnage
principal meurt, c’est bien plus dramatique, mais vous en aviez
besoin dans la scène finale que vous aviez enjolivée : l’un des
deux aspects va devoir changer, quitte à faire deux ouvrages.</p>

<p>Quand ça n’arrive pas ou très rarement… soit votre projet ne
change plus (pas toujours bon signe) soit vous aviez une excellente
conception ou architecture logicielle (souvent le genre de choses
dont on se rend compte avec beaucoup d’expérience, ou a posteriori).</p>

<p><b>Gestion de version, distribuée</b></p>

<p>Typiquement les versions des contes de Grimm finissent mal et les
Disney finissent bien : je ne dis pas que l’un ou l’autre a raison,
ils ont chacun leur public, leur époque, leur succès, et sont tous
les deux dépositaires d’une version qui est stable et se suffit à elle-même.</p>

<p>Chez les développeurs, ce serait un fork du logiciel, et chacun vivra
sa vie complètement séparée de l’autre. On ne remet plus trop de Grimm
dans les Disney, l’inverse à la rigueur ?</p>

<p>Ça peut être un changement de version majeure de la 1.0 à la 2.0,
ou deux branches de la même histoire qui coexistent.</p>

<p>Mais des scénaristes qui travaillent en parallèle ?
Tout simplement sont deux dépôts du même code, qui ont vocation
à fusionner un jour en reprenant le meilleur de chaque.
Régulièrement, ils s’envoient ou ils vont chercher les modifications
de l’autre.</p>

<p>Git est prévu pour ça, pour s’échanger les différences pour que
chacun puisse profiter des améliorations de l’autre, à condition
d’être prêt à résoudre les conflits.</p>

<p><b>Dépôt, branche, versions, table de travail</b></p>

<p>Du coup, Git propose énormément de commandes en fonction des
subtilités choisies : cloner, envoyer, récupérer les dépôts ;
expérimenter et naviguer entre plusieurs branches des possibles ;
voir l’état de votre table de travail, jeter les brouillons
ou intégrer les nouveaux travaux à telle ou telle branche ;
fusionner les modifications.</p>

<p>Enfin, parfois, vous voulez présenter non seulement votre travail à
quelqu’un, mais qu’il ne voie pas les annotations et modifications
successives : on peut alors réécrire l’histoire des commits.</p>

<p>Là encore, ça n’est pas une opération quotidienne ou anodine :
maîtrisez d’abord la base et vous saurez par la suite si vous voulez
vraiment le faire, et armé de la pratique git que vous aurez eu
entretemps, la méthode vous semblera plus claire.</p>

<p><b>Le distribué centralisé</b></p>

<p>C’est compliqué d’imaginer que chacun a sa version.
De toutes façon, un seul logiciel finira en production dans votre entreprise.
Souvent, on va se dire qu’un des dépôts a autorité sur les autres,
disons celui de l’entreprise ou du projet et pas celui des contributeurs.
Au lieu de vous synchroniser avec chacun de vos collègues, vous le ferez via celui-ci.</p>

<p>Git est si populaire que de nombreux outils de développement se basent dessus :
l’intégration continue par exemple, permet de dire “quand une nouvelle
version est envoyée à tel endroit, lance des tests,
et s’ils réussissent, déploie le tout en production”.
Confort maximum, gain de temps : bel exemple d’automatisation.</p>

<p>Il existe aussi de nombreuses plateformes, publiques ou privées.
GitHub étant devenu de fait un hébergeur majeur de projets Open Source,
il y a de fortes chances que toutes les briques dont votre projet a besoin
pour fonctionner soient sur GitHub. Si vous avez un outil de gestion de
dépendances (npm pour Node, gem pour Ruby par exemple), il y a de fortes
chances pour qu’il aille tout chercher sur GitHub.</p>

<p>Du coup, bien que Git soit conçu pour être un système distribué,
vous venez de baser un système qui se centralise sur GitHub, et
en cas de problème chez eux, votre projet est affecté aussi.</p>

  </article>

  <div class="todo block">
    <h4>TODO-list : Outils de debug</h4>
    <p>Maîtrisez les outils d'inspection / debug de browser et de monitoring Unix</p>
  </div>

  <div class="mot block">
    <h4>Le mot du jour : Continuous integration / delivery</h4>
    <p>Intégration et livraison continue</p>
  </div>

  <footer class="post-footer">
    <p class="post-meta">
      <span>&#x21fd;
	<a href="/011/">011. À l'attaque !</a></span>
    &mdash;
    
    </p>
    <p>
      2016-04-17 • <a href="http://maitre-du-monde.fr">Sylvain Abélard</a>
  </footer>

<!-- </div> -->

<!--     </div> -->

    

    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-41077934-2', 'auto');
  ga('send', 'pageview');
</script>
  </body>

</html>
