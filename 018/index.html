<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta content="True" name="HandheldFriendly" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Sylvain Abélard" />




  <title>Zen M-4</title>
  <meta name="description" content="Zen Metaphor - Chaque semaine une image simple pour comprendre quelque chose qui n'aurait jamais dû être compliqué dans le développement informatique - Podcast en français pour apprendre et progresser dans le code" />

  <link rel="stylesheet" href="/css/light.css" />
<!--  <link rel="stylesheet" href="/css/sharingbuttonsio.css" /> -->
  <link rel="canonical" href="http://zenm4.net/" />
  <link rel="alternate" type="application/rss+xml" title="Sylvain Abélard" href="http://zenm4.net/feed.xml" />

  <meta name="twitter:card" content="product" />
  <meta name="twitter:site" content="@zen_m4" />
  <meta name="twitter:creator" content="@abelar_s" />
  <meta name="twitter:domain" content="zenm4.net" />

  <meta name="twitter:title" content="Zen Metaphor - Relativité" />
  <meta name="twitter:image" content="http://zenm4.net/img/pas_japonais.png" />
  <meta name="twitter:description" content="Zen Metaphor - Un chemin absolu ou relatif c'est comme trouver son chemin dans l'absolu ou à partir de votre position" />

  <meta property="og:type" content="article" />
  <meta property="og:url" content="http://zenm4.net/018/" />
  <meta property="og:description" content="Zen Metaphor - Un chemin absolu ou relatif c'est comme trouver son chemin dans l'absolu ou à partir de votre position - Podcast en français pour apprendre et progresser dans le code" />
  <meta property="og:image" content="http://zenm4.net/img/pas_japonais.png" />
  <meta property="og:title" content="Zen Metaphor - Relativité" />
<meta property="og:updated_time" content="2016-06-05" />
  <meta property="og:audio:type"         content="audio/mp3" /> 
  <meta property="og:audio"              content="http://feeds.soundcloud.com/stream/267959579-zenm4-018-zen-metaphor-relativite.m4a" />
  

  <meta property="og:locale" content="fr-FR" />
  <meta property="og:rich_attachment" content="true" />
</head>


  <body>
    <div class="page">
    <div id="title">
  <a id="home" href="/"><img id="logo" src="/img/zenm4_logo.png" alt="&#9775;" /></a>
  <h1><a href="/">Zen M-4</a></h1>
  <h3>Zen Metaphor</h3>
  <div class="menu">
    <a class="soundcloud icon" title="ZenM4 / SoundCloud" href="https://soundcloud.com/zenm4"><img src="/img/soundcloud.ico" />&nbsp;Audio</a>
    <a class="twitter icon" title="Zen_M4 / Twitter" href="https://twitter.com/zen_m4"><img src="/img/twitter.ico" class="twitter_icon" />&nbsp;@zen_m4</a>
    <a class="past" href="/archive">Archive</a>
    <a class="rss icon" title="RSS" href="/feed.xml"><img src="/img/rss.ico" />&nbsp;RSS</a>
  </div>
</div>

    
  <header class="post-header">
    <p class="post-meta">
      <span>&#x21fd; <a href="/017/">017. Graphes ? Eek!</a></span>
      &mdash;
      
    </p>

    <h1 class="post-title">018. Relativité</h1>
    <h4>Un chemin absolu ou relatif
      <br /><em>c'est comme</em><br />trouver son chemin dans l'absolu ou à partir de votre position
    </h4>
  </header>

  <div class="sound block">
    <iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/267959579&amp;color=ff5500&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"></iframe>

    <ul class="share">
    
    <li><a href="http://feeds.soundcloud.com/stream/267959579-zenm4-018-zen-metaphor-relativite.m4a"><b>&dArr; Télécharger</b></a></li>
    
    <li><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fzenm4.net/018/&t=Zen%20Metaphor" title="Partager sur Facebook" target="_blank"><b>f</b> Partage Facebook</a></li>
  <li><a href="https://twitter.com/intent/tweet?source=http%3A%2F%2Fzenm4.net/018/&text=Zen%20Metaphor:%20http%3A%2F%2Fzenm4.net&via=zen_m4" target="_blank" title="Tweet"><b>t</b> Partage Twitter</a></li>
    </ul>

  </div>

  <div class="links block">
    <h4>Les liens du jour</h4>
    <ul>
      <li><a href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/100511">The Zen of Duck Typing</a>
        <p>2004 : le Duck Typing étonne et il faut l'expliquer</p>
      </li>
    </ul>
  </div>

  <article class="post-content">
    <p>Bonjour, aujourd’hui nous parlons de relatif et d’absolu.</p>

<p>Le concept est abstrait, mais utilisé partout, mais vous le comprenez
déjà très bien. Malheureusement il y a parfois des confusions.</p>

<p><b>Contexte</b></p>

<p>Par exemple, quand vous dites “ma chambre est au premier étage”, on
suppose sans autre information qu’il s’agit de votre maison ou votre
appartement. Si vous êtes en déplacement, qu’il s’agit de votre hôtel
ou lieu de résidence. L’information est relative à quelque chose.</p>

<p>Mais si vous donnez l’adresse, il n’y a plus de doute.
On peut retrouver votre chambre dans l’absolu.</p>

<p>Il y a un contexte qui aide à trouver “à partir de quoi” vous parlez.</p>

<p><b>Désambiguisation</b></p>

<p>Malheureusement la confusion cause souvent des erreurs, non pas de
débutant mais d’étourderie, puisque ça arrive aussi aux experts.</p>

<p>C’est juste que quand ça leur arrive, ils savent vite le voir car
c’est en quelque sorte dans leur “checklist” interne de pistes
d’attaques pour débugguer : le débutant ne l’a pas encore et c’est en
rencontrant cette erreur (et tant d’autres) qu’il deviendra expert.</p>

<p><b>Le système de fichiers : un arbre</b></p>

<p>Depuis longtemps, les ordinateurs traitent des fichiers, qu’ils
rangent dans des dossiers, et on peut mettre autant de dossiers
qu’on veut dans un dossier. Bref, on a une sorte d’arbre.</p>

<p>C’est une métaphore très utile qui nous sert depuis longtemps, dont
“tout le monde” a l’habitude. Elle montre peut-être ses limites,
on nous promettait des systèmes de fichiers basés sur des “tags”
et peut-être que les terminaux mobiles et les applications Web
sont en train de nous changer nos habitudes, mais ce n’est pas
encore tout à fait ça.</p>

<p><b>Arborescence de fichiers</b></p>

<p>Bref, quand vous naviguez dans un explorateur de fichier, vous avez un
point de départ, un endroit où vous êtes en ce moment, et un point
d’arrivée désiré.</p>

<p>En version graphique on espère que l’outil vous aide visuellement
à situer où vous êtes. Windows, MacOSX et les différents Unix
vous proposent souvent plusieurs points de départ :</p>

<ul>
  <li>
    <p>une “racine” d’arbre par support physique : je suis sur un disque dur ou une clé USB</p>
  </li>
  <li>
    <p>quelques points d’entrée : système/applications, mon compte/mes documents</p>
  </li>
</ul>

<p>Et ensuite on navigue de plus en plus profond dans les dossiers, on remonte, etc.</p>

<p>Chaque dossier est noté, pour Unix avec des barres obliques (slash),
pour Windows avec des antislash (ou backslash).</p>

<p><b>PATH</b></p>

<p>On pourrait croire que dans la ligne de commande, il n’y a que deux
points d’entrée : le dossier racine <code class="highlighter-rouge">/</code>, et votre dossier personnel <code class="highlighter-rouge">~</code>.</p>

<p>Et bien non ! Il existe une variable d’environnement, le <code class="highlighter-rouge">PATH</code> (chemin)
qui dira, quand vous cherchez une commande, où aller la chercher.
Votre shell va d’abord regarder si c’est pour lui (un builtin),
puis dans chacun des dossiers de départ. Faites <code class="highlighter-rouge">echo $PATH</code> et
vous verrez la liste séparée par des “deux points”, par exemple
<code class="highlighter-rouge">/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin</code>.</p>

<p>Quand vous utilisez des gestionnaires de paquets, ils essaieront
probablement d’ajouter dans ce PATH un dossier pour que le système
regarde d’abord s’il n’y a pas le binaire voulu dedans.</p>

<p>Quand on fait des ateliers d’installation avec des débutants, on se
retrouve rapidement à gérer des erreurs du genre : soit l’exécutable
n’est pas où on veut, soit le dossier que l’on veut n’est pas dans le
PATH.</p>

<p><b>Le Web</b></p>

<p>Quand le Web a été inventé, il était lui aussi calqué sur l’échange
de fichiers, la mise à disposition de ressources à des endroits précis,
et a très naturellement calqué ses URL (Universal Resource Location),
emplacement universel de la ressource, un peu comme des fichiers,
d’où les slash dans de nombreuses adresses.</p>

<p>Imaginons <code class="highlighter-rouge">http://bibliotheque.fr/sciences_et_techniques/informatique/web/url.htm</code>
une adresse avec le protocole, le domaine, puis une arborescence de
fichiers qui</p>

<ol>
  <li>ne devrait jamais changer</li>
  <li>vous permet aussi de voir un peu la structure qu’ils ont choisi, pour explorer davantage</li>
</ol>

<p><b>Rails</b></p>

<p>En Ruby on Rails, on fait bien davantage que juste accéder à des
fichiers ou des représentations d’enregistrements de base de
données. On a potentiellement toute une application qui tourne
avec des actions différents et des process métiers spécifiques.</p>

<p>Au départ, le routage de base donnait par exemple <code class="highlighter-rouge">/users/show/1</code>
pour aller voir les utilisateurs (et le UsersController), son
action show (la méthode que vous avez codée) avec l’identifiant 1.</p>

<p><b>REST</b></p>

<p>Dans les applications Rails récentes on ne voit même plus le <code class="highlighter-rouge">/show</code>.
On ira voir <code class="highlighter-rouge">/users/1</code> et on lui dira quelque chose : on va soit lui
demander de se présenter, soit lui ordonner des modifications, soit
le supprimer ou juste voir s’il existe sans se soucier des détails…</p>

<p>Ce sont respectivement les verbes HTTP GET, POST, DELETE, HEAD.
Il y a bien plus de verbes et de nuances dans l’utilisation qu’on
en fait, mais ce sont les conventions que Rails utilise, et donc
celles dont j’ai le plus l’habitude dans mes projets, ceux que
je donnerai aux autres et ceux que je récupèrerai des autres.
Encore une histoire de contexte à réexpliquer ou non.</p>

<p><b>URLs</b></p>

<p>En réalité, une requête Web est un peu plus complexe : il y a une
partie visible que vous voyez dans la barre d’adresses du navigateur,
et une partie cachée qui donnera des informations en plus.
Le fameux verbe, les fameuses données à envoyer, les cookies etc.</p>

<p><b>Relatif et absolu</b></p>

<p>Pour en revenir au sujet, on voit bien que répéter l’aborescence est
parfois pénible : quand vous demandez votre chemin, on vous donnera
souvent à partir de là où vous êtes, allez dans telle direction
jusqu’à tel repère etc. On ne vous réexplique pas comment arriver
là où vous êtes en ce moment, on ne vous donne pas l’adresse ou la
position GPS, mais plutôt quelque chose comme “troisième à gauche”.</p>

<p>De même, quand vous donnez une adresse Web, quand le moyen le plus
simple est de dire “par rapport à là où vous êtes, allez dans ce sens-là”,
ça vous embête de répéter “pour tel site web à tel endroit de départ”.</p>

<p><b>HTML</b></p>

<p>HTML vous permet, dans les liens, via les références hypertexte (<code class="highlighter-rouge">href</code>)
soit de commencer par le protocole (ou double slash <code class="highlighter-rouge">//</code> pour dire “reste
comme ça” : HTTP reste HTTP et HTTPS reste HTTPS) et le nom de domaine
(<code class="highlighter-rouge">zenm4.net</code>),
soit à partir du début de l’arborescence du site, avec un slash
(<code class="highlighter-rouge">/archive</code> ou <code class="highlighter-rouge">/img/barque.png</code>) ou encore juste un nom de fichier
ou dossier, sans slash, qui signifiera “à partir du dossier dans lequel
je me trouve”.</p>

<p><b>Rails</b></p>

<p>Rails cache beaucoup de “magie” dans son helper <code class="highlighter-rouge">link_to</code>, ou plus
précisément <code class="highlighter-rouge">url_for</code> :</p>

<ul>
  <li>vous pouvez mettre un objet ActiveRecord, et il tentera de voir si le routage, pris en sens inverse, permet de lui donner une URL</li>
  <li>vous pouvez mettre des options et il tentera de trouver la bonne URL en imaginant que tout ce que vous lui précisez, c’est parce que ça change, et tout ce que vous ne lui précisez pas ne change pas (changer d’action dans le même contrôleur etc)</li>
  <li>vous pouvez mettre du texte respectant la norme des liens HTML et il ne devinera rien, considérant que vous savez ce que vous faites</li>
</ul>

<p><b>CSS</b></p>

<p>Même le CSS s’y met avec la directive <code class="highlighter-rouge">position: absolute</code> : HTML
permet de décrire une structure de boîtes dans des boîtes, et CSS
permet de préciser des règles d’affichage de ces boîtes.</p>

<p>Par défaut, tout est dépendant de la boîte dans laquelle vous êtes,
donc tout est <code class="highlighter-rouge">relative</code>, mais parfois vous voulez préciser que c’est
à partir du coin en haut à gauche de la page, donc <code class="highlighter-rouge">absolute</code>, voire
indépendamment de la page, fixé sur l’écran, donc <code class="highlighter-rouge">fixed</code>.</p>

<p><b>Fini la confusion</b></p>

<p>Voilà ! Comme toujours j’espère avoir démystifié le sujet et que cela
vous permettra de ne pas vous faire avoir par la suite.</p>

<p>Quand votre installation rate, votre fichier n’est pas trouvé, vos
liens ne fonctionnent pas en HTML ou Rails, vos affichages visuels
sont décalés… vérifier si vous parlez en absolu, ou bien en relatif,
et si oui par rapport à quoi.</p>

<p>C’est un outil crucial dans votre “boîte à outils de débuggueur”,
aussi important et bête que “avez-vous bien branché les câbles”,
“est-ce qu’il y a du courant électrique” ou “êtes-vous connecté à
Internet”.</p>

<p><b>Clarté et concision</b></p>

<p>Je n’ai pas de préférence entre l’un et l’autre.
Chaque cas d’usage fera que l’un est plus pratique que l’autre,
soit plus clair, explicite et verbeux, soit plus concis.</p>

<p>Si vous pensiez tout savoir, si vous pensez avoir perdu votre temps,
rappelez-vous surtout si vous formez de grands débutants que c’est
pourtant loin d’être évident : c’est en reformulant les référentiels
et en questionnant les bases que de grandes découvertes scientifiques
ont été faites (géocentrisme, héliocentrisme, physique de Newton et
relativité).</p>

<p>Carl Sagan disait “si vous voulez faire une tarte aux pommes à partir
de zéro, vous devez commencer par inventer l’univers”. Blague à part,
aucune communication humaine ne peut tout réexpliquer, toutes se
basent forcément sur des postulats de base.</p>

<p>Ça fait parfois du bien de les revisiter pour s’assurer qu’on est
toujours dans le même référentiel.</p>

<p>À bientôt !</p>

  </article>

  <div class="todo block">
    <h4>TODO-list : Postel's Law</h4>
    <p>Be conservative in what you send, be liberal in what you accept</p>
  </div>

  <div class="mot block">
    <h4>Le mot du jour : 10x programmer</h4>
    <p>Un mythe dangereux pour les développeurs, recrutements et communautés.</p>
  </div>

  <footer class="post-footer">
    <p class="post-meta">
      <span>&#x21fd;
	<a href="/017/">017. Graphes ? Eek!</a></span>
    &mdash;
    
    </p>
    <p>
      2016-06-05 • <a href="http://maitre-du-monde.fr">Sylvain Abélard</a>
  </footer>

    
    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-41077934-2', 'auto');
  ga('send', 'pageview');
</script>
  </body>

</html>
