<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta content="True" name="HandheldFriendly" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Sylvain Abélard" />




  <title>Zen M-4</title>
  <meta name="description" content="Zen Metaphor - Chaque semaine une image simple pour comprendre quelque chose qui n'aurait jamais dû être compliqué dans le développement informatique - Podcast en français pour apprendre et progresser dans le code" />

  <link rel="stylesheet" href="/css/light.css" />
<!--  <link rel="stylesheet" href="/css/sharingbuttonsio.css" /> -->
  <link rel="canonical" href="http://zenm4.net/" />
  <link rel="alternate" type="application/rss+xml" title="Sylvain Abélard" href="http://zenm4.net/feed.xml" />

  <meta name="twitter:card" content="product" />
  <meta name="twitter:site" content="@zen_m4" />
  <meta name="twitter:creator" content="@abelar_s" />
  <meta name="twitter:domain" content="zenm4.net" />

  <meta name="twitter:title" content="Zen Metaphor - Graphes ? Eek!" />
  <meta name="twitter:image" content="http://zenm4.net/img/barque.png" />
  <meta name="twitter:description" content="Zen Metaphor - Les graphes et leurs usages c'est comme un GPS ou une carte du métro" />

  <meta property="og:type" content="article" />
  <meta property="og:url" content="http://zenm4.net/017/" />
  <meta property="og:description" content="Zen Metaphor - Les graphes et leurs usages c'est comme un GPS ou une carte du métro - Podcast en français pour apprendre et progresser dans le code" />
  <meta property="og:image" content="http://zenm4.net/img/barque.png" />
  <meta property="og:title" content="Zen Metaphor - Graphes ? Eek!" />
<meta property="og:updated_time" content="2016-05-22" />
  <meta property="og:audio:type"         content="audio/mp3" /> 
  <meta property="og:audio"              content="http://feeds.soundcloud.com/stream/265404473-zenm4-017-zen-metaphor-graphes-eek.m4a" />
  

  <meta property="og:locale" content="fr-FR" />
  <meta property="og:rich_attachment" content="true" />
</head>


  <body>
    <div class="page">
    <div id="title">
  <a id="home" href="/"><img id="logo" src="/img/zenm4_logo.png" alt="&#9775;" /></a>
  <h1><a href="/">Zen M-4</a></h1>
  <h3>Zen Metaphor</h3>
  <div class="menu">
    <a class="soundcloud icon" title="ZenM4 / SoundCloud" href="https://soundcloud.com/zenm4"><img src="/img/soundcloud.ico" />&nbsp;Audio</a>
    <a class="twitter icon" title="Zen_M4 / Twitter" href="https://twitter.com/zen_m4"><img src="/img/twitter.ico" class="twitter_icon" />&nbsp;@zen_m4</a>
    <a class="past" href="/archive">Archive</a>
    <a class="rss icon" title="RSS" href="/feed.xml"><img src="/img/rss.ico" />&nbsp;RSS</a>
  </div>
</div>

    
  <header class="post-header">
    <p class="post-meta">
      <span>&#x21fd; <a href="/016/">016. Solution d'urgence</a></span>
      &mdash;
      
    </p>

    <h1 class="post-title">017. Graphes ? Eek!</h1>
    <h4>Les graphes et leurs usages
      <br /><em>c'est comme</em><br />un GPS ou une carte du métro
    </h4>
  </header>

  <div class="sound block">
    <iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/265404473&amp;color=ff5500&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"></iframe>

    <ul class="share">
    
    <li><a href="http://feeds.soundcloud.com/stream/265404473-zenm4-017-zen-metaphor-graphes-eek.m4a"><b>&dArr; Télécharger</b></a></li>
    
    <li><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fzenm4.net/017/&t=Zen%20Metaphor" title="Partager sur Facebook" target="_blank"><b>f</b> Partage Facebook</a></li>
  <li><a href="https://twitter.com/intent/tweet?source=http%3A%2F%2Fzenm4.net/017/&text=Zen%20Metaphor:%20http%3A%2F%2Fzenm4.net&via=zen_m4" target="_blank" title="Tweet"><b>t</b> Partage Twitter</a></li>
    </ul>

  </div>

  <div class="links block">
    <h4>Les liens du jour</h4>
    <ul>
      <li><a href="http://www.jamisbuck.org/mazes/">Visual maze algorithms</a>
        <p>Visualisation d'algos de labyrinthes.</p>
      </li>
    </ul>
  </div>

  <article class="post-content">
    <p>Retour à l’école et aux épisodes “concept” pour parler des graphes !</p>

<p>En première année de prépa en cours d’algo, j’ai vu trois structures
de données principales que sont les listes, les arbres et les graphes.</p>

<p>Encore une fois, mon but n’est pas que les profs d’algos s’étranglent
scandalisés devant ce que je raconte, mais de dédramatiser pour les
débutants et leur mettre le pied à l’étrier.</p>

<p><b>Listes, Arbres, Graphes</b></p>

<p>Évidemment il y a énormément à dire sur chacun, la clé est que chaque
fois que vous arrivez à représenter le problème que vous avez, sous
des formes connues, vous avez tout un ensemble de connaissances à
votre disposition.</p>

<p>Et à chaque spécificité de votre problème, vous avez soit la chance
d’avoir des contraintes qui simplifient les algos connus ou vous
permettent d’éviter des prises de tête, soit la malchance de ne pas
rentrer dans les cases de ce qui est couramment étudié et présenté,
et de devoir trouver les astuces vous-mêmes.</p>

<p>On a parlé des listes chaînées, et des énumérations en Ruby, et bien
qu’il y ait de nombreuses variantes et astuces à ajouter, je pense
en rester là.</p>

<p>Je n’ai pas encore parlé des arbres, principalement parce que je
n’ai eu ni d’inspiration, ni vu de problème majeur et explicable
simplement : soit des étudiants se battre sur des points d’algo
assez techniques, soit des gens qui n’avaient pas vu que leur
problème était en réalité à représenter sous forme d’arbre, mais
le concept en lui-même me semble assez bien compris.</p>

<p><b>Graphes</b></p>

<p>La manière dont je visualise un graphe, c’est un GPS ou une carte
des transports, disons le métro parisien.</p>

<p>Quand vous dessinez un graphe, vous avez des boîtes ou des points
reliés par des lignes ou des flèches. Les relations sont des arcs
(“arêtes”), les éléments reliés entre eux, des noeuds (“sommets”).</p>

<p>La carte du métro vous représente les lignes et stations, d’ailleurs
de manière simplifiée par rapport à la réalité : vous n’avez pas les
sorties, les couloirs, le temps de trajet représenté fidèlement.</p>

<p>Les deux choses les plus simples à faire avec un tel graphe sont :</p>

<ul>
  <li>lister les stations (parcours du graphe sans rien oublier)</li>
  <li>trouver un plus court chemin entre deux stations</li>
</ul>

<p>Les façons les plus simples de faire sont de choisir un point de
départ, et de tout lister ensuite à partir de là. Pour trouver une
stratégie adaptée, on doit se poser plusieurs questions.</p>

<p><b>Graphe orienté</b><br />
<i>Est-ce que je peux toujours faire marche arrière ?</i></p>

<p>Dans la plupart des stations du métro parisien, oui.
S’il y a un tunnel entre deux stations, il les relie dans un sens et
dans l’autre. Mais sur quelques endroits, on a des sens uniques :
ligne 7bis ou Michel Ange (Auteuil/Molitor) lignes 9 et 10.</p>

<p>Le graphe du métro parisien est orienté (ou dirigé) : si vous trouvez
un chemin pour aller d’une station à une autre, le chemin retour ne
sera pas forcément exactement le même.</p>

<p><b>Graphe connexe</b><br />
<i>Est-ce que toutes les stations sont reliées entre elles ?</i></p>

<p>A priori, oui. On peut débattre sur le funiculaire de Montmartre,
mais c’est à peu près tout.</p>

<p>Par contre, imaginez un instant que telle ou telle ligne ou station
soit fermée : travaux, grèves, incidents, ou même correspondance
fermée vous obligent à changer de trajet.</p>

<p>Le métro parisien est si dense qu’on imagine mal une situation où il
représenterait deux graphes coupés qui ne peuvent pas communiquer
entre eux. À la rigueur, couper le pont de Charenton : le terminus de
Créteil est assez loin mais la ligne 8 n’a pas de correspondance après
Porte de Charenton. Bien entendu, dans ces cas-là, il n’y aurait
probablement pas de métro entre les poignées de stations qui restent
seules.</p>

<p>Mais si on représente le graphe de toutes les voies ferrées françaises
et britanniques, quand le Tunnel sous la Manche est fermé, on a bien
deux graphes assez grands qui ne sont pas reliés entre eux.</p>

<p><b>Graphe pondéré</b><br />
<i>Est-ce que tout chemin d’une station à ses voisines prend le même temps ?</i></p>

<p>À Paris, bien sûr que non. Certaines stations sont proches et d’autres
éloignées. Si on veut vous proposer un chemin optimal, c’est une
information intéressante à prendre en compte : non seulement il y a
des trajets plus courts, mais il y a aussi des correspondances plus
simples, mais il y a aussi dans la vraie vie le fait de marcher plus
ou moins longtemps en surface et choisir les bonnes stations de départ
et d’arrivée.</p>

<p>En voiture, votre GPS va même probablement avoir des poids différents,
voire toute une liste de contraintes : les kilomètres à parcourir,
mais aussi les vitesses maximum autorisées voire le trafic en temps
réel, pour calculer le temps ; l’argent, les voies limitées en hauteur
ou largeur…</p>

<p><b>Plus court chemin</b></p>

<p>À partir de là, vous pouvez envisager plusieurs algos de cartographie
par analogies simples : vous partez d’une station, et on va simuler
presque tous les chemins possibles entre départ et arrivée.
Si vous le faites vous-mêmes, vous allez repasser par plein de stations.</p>

<p>Plus rapide, vous le faites avec une équipe, ou disons une infinité de
clones de vous-mêmes, qui doivent pouvoir se parler pour comparer les
chemins empruntés.</p>

<p>Et là, la métaphore a atteint ses limites : quand on rédige un algorithme,
on doit se rappeler que l’ordinateur est très bête, il ne se rappellera de
rien de particulier sauf si vous lui dites de faire attention.
Un algo un peu naïf pourrait l’oublier et ferait des recherches à
l’infini, en passant sans cesse par les mêmes stations.</p>

<p>Ça nous mène à une propriété et une contrainte de plus :</p>

<p><b>Graphe cyclique<b><br />
<i>Est-ce que partant d’une station, je peux y revenir ?</i></b></b></p>

<p>À Paris, oui, vu le nombre de lignes et le fait que presque tous les
chemins sont faisables en sens inverse.</p>

<p>Comme dans la vraie vie, on sait bien qu’on est en train d’évaluer un
chemin qu’on a déjà vu, dans la plupart des algorithmes on va
conserver quelque part une liste des sommets qu’on a déjà visités.</p>

<p><b>Cycle absorbant</b><br />
<i>Est-ce que je peux faire tourner le temps à l’envers ?</i></p>

<p>OK ce n’est pas la meilleure formulation, mais imaginons des
poids négatifs dans un graphe pondéré.
Dans l’image du métro, on ne peut pas revenir dans le temps,
aucune arête n’a de poids négatif. A fortiori, il n’existe
pas de boucle de transports qui vous ferait revenir dans le temps.</p>

<p>Mais imaginons que vous avez construit un graphe pour représenter une
suite de choix et d’étapes, certaines où vous payez de l’argent et
d’autres où on vous en rend.</p>

<p>Si vous trouviez une combine pour gagner de l’argent indéfiniment,
pourquoi pas : elle n’est probablement soit pas légale, soit pas
éthique, soit avec des conditions de départ particulièrement
restrictives, mais pourquoi pas.</p>

<p>En tout cas, parcourir un tel graphe pour trouver le coût le moins
cher est une question qui n’aura pas de sens, puisque le moins
cher serait “moins l’infini”. La plupart des algos de plus court
chemin ne savent pas gérer ce cas-là, le mieux qu’ils puissent
faire c’est détecter quand ça arrive.</p>

<p><b>Liste d’adjacence</b></p>

<p>On a raisonné tout l’épisode sur la carte du métro.
Comment on pourrait stocker de telles informations dans un ordinateur ?</p>

<p>Deux des méthodes les plus utilisées sont la liste d’ajacence et la matrice d’adjacence.</p>

<p>La liste d’adjacence, c’est quand chaque station connaît ses “voisines”, celles
qu’on peut atteindre à partir de là.
C’est ce que vous avez affiché ou annoncé dans de nombreux systèmes de transport :
la station suivante et les correspondances.</p>

<p>On n’en parle pas dans les transports mais bien évidemment, dans votre code,
il faudrait mentionner la station précédente si on peut y aller (hors cas du
sens unique donc).</p>

<p><b>Matrice d’adjacence</b></p>

<p>Et la matrice d’adjacence, c’est faire un tableau avec tous les
sommets en ligne d’en-tête, tous les sommets en colonne d’en-tête, et
à chaque case correspondante, ces sommets sont-ils reliés par un arc ?
Oui, non, et le cas échéant avec quel poids ?</p>

<p>Ça ressemble un peu à ce que vous avez dans les cartes routières ou
sur des tickets de péage : à titre indicatif, de telle ville à telle
ville, tant de kilomètres ou tant d’euros.</p>

<p>Et comme on peut faire l’aller et le retour, c’est souvent représenté
sous forme de triangle : je ne peux pas lire “de Toulouse à Bordeaux”,
mais je peux trouver “de Bordeaux à Toulouse”. Si le graphe était
orienté, on aurait besoin du tableau complet.</p>

<p><b>Essayez de l’écrire sur papier !</b></p>

<p>À écrire comme à lire, on voit rapidement que la liste d’adjacence est
plus pratique quand il y a peu d’arêtes, de connexions, et que la matrice
d’adjacence est plus adaptée quand il y a beaucoup de connexions entre les
sommets.</p>

<p>Ce n’est pas toujours le cas qu’une intuition s’avère vraie, alors autant le noter :)</p>

<p><b>Le cours n’est pas terminé</b></p>

<p>L’épisode va s’arrêter là, mais bien sûr le cours sur les graphes va
plus loin : définitions précises, algos différents et calculs de complexité,
et puis plusieurs outils de transformation, par exemple représenter un graphe
sous forme d’arbre etc.</p>

<p>Ça permet quand on coince sur une représentation qui ne nous aide pas
beaucoup, de retomber sur des situations qu’on maîtrise mieux, ce qui
est une excellente méthode à suivre quand vous bloquez sur un cas
précis.</p>


  </article>

  <div class="todo block">
    <h4>TODO-list : Mentoring - maïeutique</h4>
    <p>Laissez ceux qui apprennent réexpliquer, faites-les accoucher.</p>
  </div>

  <div class="mot block">
    <h4>Le mot du jour : Rubber-duck debugging</h4>
    <p>Expliquer votre problème vous décoince tout seul</p>
  </div>

  <footer class="post-footer">
    <p class="post-meta">
      <span>&#x21fd;
	<a href="/016/">016. Solution d'urgence</a></span>
    &mdash;
    
    </p>
    <p>
      2016-05-22 • <a href="http://maitre-du-monde.fr">Sylvain Abélard</a>
  </footer>

    
    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-41077934-2', 'auto');
  ga('send', 'pageview');
</script>
  </body>

</html>
